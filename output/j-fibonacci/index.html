<!DOCTYPE html>
<html lang="en">
  <head>
    <title>
      Hello, J - The Fibonacci Numbers | jordan scales
    </title>

    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/tomorrow.min.css" />
    <link rel="stylesheet" href="/css/demos/clicking.css" />
    <link rel="stylesheet" href="/css/demos/hover.css" />
    <link rel="stylesheet" href="/css/demos/shared.css" />
    <link rel="stylesheet" href="/css/katex.min.css" />

    <link
      href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&font-display=swap"
      rel="stylesheet"
      type="text/css"
    />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=480" />
    <link
      rel="Shortcut Icon"
      type="image/x-icon"
      href="https://s.gravatar.com/avatar/3517596df161030c3779c532f7844383?s=32.gif"
    />

    <meta
      property="og:title"
      content="Hello, J - The Fibonacci Numbers | jordan scales"
    />
    <meta
      name="Description"
      content="Today we&#39;re going to compute the Fibonacci numbers using a fun language called J."
    />
    <meta
      property="og:description"
      content="Today we&#39;re going to compute the Fibonacci numbers using a fun language called J."
    />
    <meta
      property="og:image"
      content="https://s.gravatar.com/avatar/3517596df161030c3779c532f7844383?s=32.gif"
    />
  </head>

  <body>
    <div class="main">
      <header>
        <span class="flash" aria-hidden="true">////////</span>
        <strong>jordan scales</strong>
        <span class="sep" aria-hidden="true">.</span>
        <a href="/">home</a>
        <span class="sep" aria-hidden="true">.</span>
        <a href="/projects">projects</a>
        <span class="sep" aria-hidden="true">.</span>
        <a href="https://twitter.com/jdan">twitter</a>
        <span class="sep" aria-hidden="true">.</span>
        <a href="https://github.com/jdan">github</a>
      </header>

      <article class="article">
        <header class="title">
          <div class="date">
            January 07, 2018
          </div>

          <h1>Hello, J - The Fibonacci Numbers</h1>
        </header>

        <section class="content">
          <p>
            Today we&#39;re going to compute the
            <a href="https://en.wikipedia.org/wiki/Fibonacci_number"
              >Fibonacci numbers</a
            >
            using a
            <a href="https://en.wikipedia.org/wiki/J_(programming_language"
              >fun language called J</a
            >.
          </p>
          <p>
            You are welcome to
            <a href="#all-together-now-fibonacci">skip right to the action</a>
            to see what this post is all about, but the following few paragraphs
            will introduce some J basics.
          </p>
          <h2 id="hello-repl">Hello, REPL!</h2>
          <p>
            First thing&#39;s first,
            <a
              href="http://code.jsoftware.com/wiki/System/Installation/All-in-One"
              >go ahead and install J</a
            >. I tend to run my code in <code>jconsole</code>, but
            <code>jqt</code> gives you a nice GUI with a package manager.
          </p>
          <p>
            In this post you&#39;ll find a number of code blocks. These
            represent lines from the J REPL. The top line, indented by two
            spaces, is our input. The line beneath is our output.
          </p>
          <pre><code>  <span class="hljs-number">1</span> + <span class="hljs-number">1</span>
<span class="hljs-number">2</span>
  <span class="hljs-number">2</span> * <span class="hljs-number">3</span> * <span class="hljs-number">4</span>    NB. <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> a comment
<span class="hljs-number">24</span>
  <span class="hljs-string">'hello, world!'</span>
hello, world!</code></pre>
          <p>Easy enough, right?</p>
          <h2 id="lists-lists-and-more-lists">Lists lists and more lists</h2>
          <p>
            J really shines when it comes to lists - and we&#39;ll use &#39;em
            to build our sequence. You can build lists just by writing the
            elements separated with whitespace. Seriously.
          </p>
          <pre><code>  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span></code></pre>
          <p>
            The <code>{.</code> verb (or function) is used to get the first
            element of a list. We can use it by just plopping it in the front.
          </p>
          <pre><code>  {. <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">1</span>
  {. <span class="hljs-number">10</span> <span class="hljs-number">17</span> <span class="hljs-number">100</span>
<span class="hljs-number">10</span></code></pre>
          <p>
            The <code>{:</code> verb is used to get the last element of the
            list.
          </p>
          <pre><code>  {: <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">3</span>
  {: <span class="hljs-number">10</span> <span class="hljs-number">17</span> <span class="hljs-number">100</span>
<span class="hljs-number">100</span>
  {: <span class="hljs-number">1</span>
<span class="hljs-number">1</span></code></pre>
          <p>
            The <code>,</code> verb is used to join lists. You&#39;ll notice
            that this one is different in that it has stuff on both sides! Kinda
            like <code>+</code>.
          </p>
          <pre><code>  <span class="hljs-number">1</span> , <span class="hljs-number">2</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span>
  <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> , <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span> <span class="hljs-number">6</span></code></pre>
          <p>
            We can use the verb <code>+/</code> to sum the elements of a list.
          </p>
          <pre><code>  +/ <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span>
  +/ _1 <span class="hljs-number">5</span>   NB. _ <span class="hljs-keyword">is</span> <span class="hljs-keyword">for</span> negative!
<span class="hljs-number">4</span></code></pre>
          <h2 id="stacking-verbs">Stacking verbs</h2>
          <p>
            We can use multiple verbs in an expression. Parentheses
            <code>()</code> help us control the order of things.
          </p>
          <pre><code>  {. <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">1</span>
  {: <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">3</span>
  ({. <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>) , ({: <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>)
<span class="hljs-number">1</span> <span class="hljs-number">3</span>
  +/ ({. <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>) , ({: <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>)
<span class="hljs-number">4</span></code></pre>
          <p>
            Let&#39;s kick things up by introducing &quot;forks.&quot; J will
            automagically form a fork when we combine certain functions.
          </p>
          <pre><code>  ({. <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>) , ({: <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>)
<span class="hljs-number">1</span> <span class="hljs-number">3</span>
  ({. , {:) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">1</span> <span class="hljs-number">3</span>
</code></pre>
          <p>
            See that? We were able to extract the <code>1 2 3</code> out as a
            single argument! J interprets the series of verbs <code>{.</code>,
            <code>,</code>, and <code>{:</code> as a &quot;fork&quot; - it sends
            our argument to the left and right sides, then takes the results and
            joins them with <code>,</code>. We can do this with all kinds of
            verbs.
          </p>
          <pre><code>  ({: , {.) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">3</span> <span class="hljs-number">1</span>
  ({: , {:) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">3</span> <span class="hljs-number">3</span>
  (+/ , {:) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">3</span>
  (+/ * {:) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">18</span></code></pre>
          <p>
            Cool, right? This helps us read out our expressions like sentences.
            For instance, &quot;the sum times the last&quot; can be written as
            <code>+/ * {:</code>, and our argument is automatically passed to
            both sides as it needs to be.
          </p>
          <h2 id="defining-verbs">Defining verbs</h2>
          <p>
            We can use the &quot;is&quot; verb <code>=:</code> to define our own
            verbs.
          </p>
          <pre><code>  (+/ , {:) <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">3</span>
  sumlast =: +/ , {:
  sumlast <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">3</span>
  staticthing =: <span class="hljs-number">55</span>   NB. <span class="hljs-string">"nouns"</span> too!
  staticthing + <span class="hljs-number">3</span>
<span class="hljs-number">58</span></code></pre>
          <p>
            We can also get a little more explicit with our verb definitions.
            The syntax of which is a little funky, but bear with me.
          </p>
          <pre><code>  sumlast =: +/ , {:
  sumlast <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">3</span>
  sumlast =: verb : <span class="hljs-string">'(+/ , {:) y'</span>
             NB. <span class="hljs-string">'y'</span> <span class="hljs-keyword">is</span> our argument!
  sumlast <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">6</span> <span class="hljs-number">3</span></code></pre>
          <h2 id="all-together-now-fibonacci">All together now, Fibonacci</h2>
          <p>
            Let&#39;s take what we&#39;ve learned so far and start exploring.
          </p>
          <p>We can make a list.</p>
          <pre><code>  <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span></code></pre>
          <p>We can pick items from our list.</p>
          <pre><code>  {. <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">1</span>
  {: <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">2</span></code></pre>
          <p>
            The next
            <a href="https://en.wikipedia.org/wiki/Fibonacci_number"
              >Fibonacci number</a
            >
            is the sum of the previous two.
          </p>
          <pre><code>  +/ <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">3</span>
  +/ <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">5</span></code></pre>
          <p>
            We need the sum, but we also need to keep the second number around
            for next time.
          </p>
          <pre><code>  ({: <span class="hljs-number">1</span> <span class="hljs-number">2</span>) , (+/ <span class="hljs-number">1</span> <span class="hljs-number">2</span>)
<span class="hljs-number">2</span> <span class="hljs-number">3</span>
  ({: <span class="hljs-number">2</span> <span class="hljs-number">3</span>) , (+/ <span class="hljs-number">2</span> <span class="hljs-number">3</span>)
<span class="hljs-number">3</span> <span class="hljs-number">5</span></code></pre>
          <p>
            We can extract our argument using a fork to simplify our expression.
          </p>
          <pre><code>  ({: , +/) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">2</span> <span class="hljs-number">3</span>
  ({: , +/) <span class="hljs-number">2</span> <span class="hljs-number">3</span>
<span class="hljs-number">3</span> <span class="hljs-number">5</span></code></pre>
          <p>We can stack our verbs multiple times.</p>
          <pre><code>  ({: , +/) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">2</span> <span class="hljs-number">3</span>
  ({: , +/) ({: , +/) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">3</span> <span class="hljs-number">5</span>
  ({: , +/) ({: , +/) ({: , +/) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">5</span> <span class="hljs-number">8</span></code></pre>
          <p>We can use the power verb <code>^:</code> to do this for us.</p>
          <pre><code>  (({: , +/)^:<span class="hljs-number">0</span>) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span>
  (({: , +/)^:<span class="hljs-number">1</span>) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">2</span> <span class="hljs-number">3</span>
  (({: , +/)^:<span class="hljs-number">2</span>) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">3</span> <span class="hljs-number">5</span>
  (({: , +/)^:<span class="hljs-number">5</span>) <span class="hljs-number">1</span> <span class="hljs-number">2</span>
<span class="hljs-number">13</span> <span class="hljs-number">21</span></code></pre>
          <p>We can start at <code>1 1</code>.</p>
          <pre><code>  (({: , +/)^:<span class="hljs-number">0</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">1</span> <span class="hljs-number">1</span>
  (({: , +/)^:<span class="hljs-number">1</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">1</span> <span class="hljs-number">2</span>
  (({: , +/)^:<span class="hljs-number">2</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">3</span> <span class="hljs-number">5</span>
  (({: , +/)^:<span class="hljs-number">5</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">8</span> <span class="hljs-number">13</span></code></pre>
          <p>We can take just the last number.</p>
          <pre><code>  {: (({: , +/)^:<span class="hljs-number">6</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">21</span>
  {: (({: , +/)^:<span class="hljs-number">20</span>) <span class="hljs-number">1</span> <span class="hljs-number">1</span>
<span class="hljs-number">17711</span></code></pre>
          <p>We can define a Fibonacci function.</p>
          <pre><code>  fib =: verb : <span class="hljs-string">'{: (({: , +/)^:y) 1 1'</span>
  fib <span class="hljs-number">6</span>
<span class="hljs-number">21</span>
  fib <span class="hljs-number">20</span>
<span class="hljs-number">17711</span>
  fib <span class="hljs-number">50</span>
<span class="hljs-number">32951280099</span></code></pre>
          <h2 id="closing-notes">Closing notes</h2>
          <p>
            I hope this gentle introduction alleviates some of the pain that
            comes with looking at an expression like
            <code>{: (({: , +/)^:20) 1 1</code> for the first time. Once you
            break it down, it&#39;s really not so special.
          </p>
          <p>
            J challenges what it means for code to be &quot;readable.&quot;
            Terse by nature, it uses compact symbols and clever composition
            tools to let us write code that flows like a conversation.
          </p>
          <p>
            There&#39;s still so much to learn. J has a ton of great tools for
            representing matrices, polynomials, tables, and much more. If you
            find posts like these interesting, be sure to
            <a href="https://twitter.com/jdan">let me know on twitter</a> so we
            can learn more together.
          </p>
          <p>
            Feel free to poke around the
            <a href="http://www.jsoftware.com/help/dictionary/vocabul.htm"
              >complete J vocabulary</a
            >
            to see what else this great language has to offer. The documentation
            is just as condensed as the language itself, so proceed with caution
            (and lots of patience).
          </p>
          <p>Thanks so much for reading!</p>
        </section>

        <footer class="more details">
          --
          <br /><br />
          <a
            target="_blank"
            href="https://twitter.com/intent/tweet?text=%E2%80%9CHello%2C%20J%20-%20The%20Fibonacci%20Numbers%E2%80%9D%20by%20%40jdan%20%E2%80%93%20http%3A%2F%2Fthatjdanisso.cool%2Fj-fibonacci"
            class="tweet"
            >tweet this</a
          >
          <a href="/">&laquo; back to home</a>
        </footer>
      </article>
    </div>

    <script async src="/js/flasher.js"></script>
    <script async src="/js/demos/clicking.js"></script>
    <script async src="/js/demos/hover.js"></script>
    <script>
      ;(function(i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r
        ;(i[r] =
          i[r] ||
          function() {
            ;(i[r].q = i[r].q || []).push(arguments)
          }),
          (i[r].l = 1 * new Date())
        ;(a = s.createElement(o)), (m = s.getElementsByTagName(o)[0])
        a.async = 1
        a.src = g
        m.parentNode.insertBefore(a, m)
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      )
      ga("create", "UA-60897046-1", "auto")
      ga("send", "pageview")
    </script>
  </body>
</html>
